<!doctype html>
<html lang="en">
 <head> 
  <meta charset="UTF-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Cashback Status</title> 
  <style>
      table {
        table-layout: fixed;
        width: 100%;
      }
      td,
      th {
        padding: 0.5rem;
        overflow-wrap: break-word;
      }
      th {
        background: #336699;
        color: white;
        text-align: left;
      }
      select {
        margin-left: 1rem;
      }
      a {
        margin-top: 0.25rem;
        display: inline-block;
        padding: 0.25rem;
        text-align: center;
        text-decoration: none;
        border: 1px solid black;
      }
      a:link,
      a:visited,
      a:hover,
      a:active {
        color: black;
      }
      th button,
      th span {
        margin-left: 0.25rem;
      }
    </style> 
 </head> 
 <body> 
  <table cellspacing="0" cellpadding="0" border="1" width="100%"> 
   <tbody> 
    <tr> 
     <th style="width: 15ch">AMAZON ID</th> 
     <th style="width: 15ch">AMAZON PWD</th> 
     <th> Status <select> <option>All</option> <option>Pass</option> <option>Fail</option> </select> <button id="copy-numbers">Copy Numbers</button> <button id="copy-all">Copy All</button> <span id="count"></span> </th> 
    </tr> 
    <tr> 
     <td>9993624995</td> 
     <td>9993624995</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7479641695</td> 
     <td>7479641695</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8191098685</td> 
     <td>8191098685</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>6281912585</td> 
     <td>6281912585</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9148857308</td> 
     <td>9148857308</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9898591372</td> 
     <td>9898591372</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8103926850</td> 
     <td>8103926850</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>6367258856</td> 
     <td>6367258856</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9882837933</td> 
     <td>9882837933</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7878202677</td> 
     <td>7878202677</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8521369661</td> 
     <td>8521369661</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7574017886</td> 
     <td>7574017886</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9313860874</td> 
     <td>9313860874</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9674039890</td> 
     <td>9674039890</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8707631583</td> 
     <td>8707631583</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8511395482</td> 
     <td>8511395482</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8509718641</td> 
     <td>8509718641</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8981522724</td> 
     <td>8981522724</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9692121878</td> 
     <td>9692121878</td> 
     <td style="color:red;">Password field isn't present. Phone number might be wrong<br><a target="_blank" href="screenshots/screenshot_13_February_2022_13_47_23.jpeg">View Screenshot</a></td> 
    </tr> 
    <tr> 
     <td>9014130885</td> 
     <td>9014130885</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9083853472</td> 
     <td>9083853472</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9389901271</td> 
     <td>9389901271</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9347993935</td> 
     <td>9347993935</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8052555287</td> 
     <td>8052555287</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7830751497</td> 
     <td>7830751497</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7456008462</td> 
     <td>7456008462</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8319911091</td> 
     <td>8319911091</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9329227381</td> 
     <td>9329227381</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8778977839</td> 
     <td>8778977839</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8016748256</td> 
     <td>8016748256</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9016492537</td> 
     <td>9016492537</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8511273814</td> 
     <td>8511273814</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9842648492</td> 
     <td>9842648492</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8290452263</td> 
     <td>8290452263</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9513096208</td> 
     <td>9513096208</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8708096504</td> 
     <td>8708096504</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7095758696</td> 
     <td>7095758696</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>6280119746</td> 
     <td>6280119746</td> 
     <td style="color:red;">Incorrect phone number<br><a target="_blank" href="screenshots/screenshot_13_February_2022_13_54_21.jpeg">View Screenshot</a></td> 
    </tr> 
    <tr> 
     <td>7394990158</td> 
     <td>7394990158</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9044694400</td> 
     <td>9044694400</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7860866563</td> 
     <td>7860866563</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9316708328</td> 
     <td>9316708328</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9863325782</td> 
     <td>9863325782</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9632352832</td> 
     <td>9632352832</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9875584030</td> 
     <td>9875584030</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8320356467</td> 
     <td>8320356467</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9182136079</td> 
     <td>9182136079</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9161857502</td> 
     <td>9161857502</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7981790770</td> 
     <td>7981790770</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>7980545150</td> 
     <td>7980545150</td> 
     <td style="color:red;">Incorrect password<br><a target="_blank" href="screenshots/screenshot_13_February_2022_13_58_50.jpeg">View Screenshot</a></td> 
    </tr> 
    <tr> 
     <td>8306193713</td> 
     <td>8306193713</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9494555974</td> 
     <td>9494555974</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9770558532</td> 
     <td>9770558532</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>8972166339</td> 
     <td>8972166339</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9305549566</td> 
     <td>9305549566</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr> 
     <td>9444270711</td> 
     <td>9444270711</td> 
     <td style="color:green;">Done</td> 
    </tr> 
    <tr>
     <td>9389171727</td>
     <td>9389171727</td>
     <td style="color:green;">Done</td>
    </tr>
   </tbody> 
  </table> 
  <script>
      // filter pass and fail records
      document.querySelector("select").addEventListener("change", (e) => {
        let select = e.target;
        let selectedOptionText = select.options[select.selectedIndex].text;
        [...document.querySelectorAll("tr")].forEach((tr) => {
          let lastChildElement = tr.lastElementChild;
          let lastChildElementTag = tr.lastElementChild.tagName.toLowerCase();
          if (selectedOptionText === "Pass") {
            if (
              lastChildElementTag === "th" ||
              (lastChildElementTag === "td" &&
                lastChildElement.innerText.trim() === "Done")
            ) {
              tr.style.display = "table-row";
            } else {
              tr.style.display = "none";
            }
          } else if (selectedOptionText === "Fail") {
            if (
              lastChildElementTag === "th" ||
              (lastChildElementTag === "td" &&
                lastChildElement.innerText.trim() !== "Done")
            ) {
              tr.style.display = "table-row";
            } else {
              tr.style.display = "none";
            }
          } else {
            tr.style.display = "table-row";
          }

          // showing filtered count
          showCount(selectedOptionText);
        });
      });

      // copies text to clipboard
      function fallbackCopyTextToClipboard(text) {
        var textArea = document.createElement("textarea");
        textArea.value = text;

        // Avoid scrolling to bottom
        textArea.style.top = "0";
        textArea.style.left = "0";
        textArea.style.position = "fixed";

        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        try {
          let successful = document.execCommand("copy");
          let msg = successful ? "successful" : "unsuccessful";
          console.log("Fallback: Copying text command was " + msg);
        } catch (err) {
          console.error("Fallback: Oops, unable to copy", err);
        }

        document.body.removeChild(textArea);
      }

      // copies entire table data to clipboard
      document.querySelector("#copy-all").addEventListener("click", () => {
        let text = [];

        [...document.querySelectorAll("tr")].forEach((tr) => {
          if (
            window.getComputedStyle(tr).getPropertyValue("display") !== "none"
          ) {
            text.push(tr.innerText.replace("View Screenshot", ""));
          }
        });
        text.shift();
        fallbackCopyTextToClipboard(text.join(""));
      });

      // copies number to clipboard
      document.querySelector("#copy-numbers").addEventListener("click", () => {
        let text = [];
        [...document.querySelectorAll("tr")].forEach((tr) => {
          if (
            window.getComputedStyle(tr).getPropertyValue("display") !== "none"
          ) {
            text.push(tr.firstElementChild.innerText);
          }
        });
        text.shift();
        fallbackCopyTextToClipboard(text.join("\n"));
      });

      // show the count in Status header
      const showCount = (option) => {
        let filterCount = -1;
        let totalCount = -1;

        [...document.querySelectorAll("tr")].forEach((tr) => {
          if (
            window.getComputedStyle(tr).getPropertyValue("display") !== "none"
          ) {
            filterCount++;
          }
          totalCount++;
        });

        const text =
          option === "All"
            ? `Count: ${totalCount}`
            : `Count: ${filterCount}/${totalCount}`;
        document.querySelector("#count").innerText = text;
      };

      // showing total count when page loads
      showCount("All");
    </script>  
 </body>
</html>